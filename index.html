<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Tự động hoàn thành địa điểm với Goong API</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        /* CSS cơ bản cho danh sách gợi ý */
        .autocomplete-suggestions {
            border: 1px solid #ccc;
            max-height: 150px;
            overflow-y: auto;
            position: absolute;
            z-index: 1000;
            background-color: #fff;
        }
        .autocomplete-suggestion {
            padding: 8px;
            cursor: pointer;
        }
        .autocomplete-suggestion:hover {
            background-color: #e9e9e9;
        }
    </style>
</head>
<body>
    <h1>Tự động hoàn thành địa điểm với Goong API</h1>
    <input id="autocomplete" type="text" placeholder="Nhập địa chỉ" oninput="fetchSuggestions()">
    <div id="suggestions" class="autocomplete-suggestions"></div>

    <script>
        const apiKey = 'YOUR_API_KEY'; // Thay thế bằng API key của bạn

        function fetchSuggestions() {
            const input = document.getElementById('autocomplete').value;
            const suggestionsContainer = document.getElementById('suggestions');
            suggestionsContainer.innerHTML = ''; // Xóa các gợi ý cũ

            if (input.length < 3) {
                return; // Không tìm kiếm nếu chuỗi nhập vào quá ngắn
            }

            const url = `https://rsapi.goong.io/Place/AutoComplete?api_key=${apiKey}&input=${encodeURIComponent(input)}`;

            axios.get(url)
                .then(response => {
                    const predictions = response.data.predictions;
                    predictions.forEach(prediction => {
                        const suggestionItem = document.createElement('div');
                        suggestionItem.className = 'autocomplete-suggestion';
                        suggestionItem.textContent = prediction.description;
                        suggestionItem.onclick = () => selectSuggestion(prediction);
                        suggestionsContainer.appendChild(suggestionItem);
                    });
                })
                .catch(error => {
                    console.error('Lỗi khi lấy gợi ý:', error);
                });
        }

        function selectSuggestion(prediction) {
            document.getElementById('autocomplete').value = prediction.description;
            document.getElementById('suggestions').innerHTML = ''; // Xóa gợi ý sau khi chọn
            // Bạn có thể xử lý thêm thông tin về địa điểm tại đây, ví dụ như lấy chi tiết địa điểm
        }
    </script>
</body>
</html>